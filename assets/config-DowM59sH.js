import{f as $e,g as et,h as tt,V as E,i as G,j as V,Q as ve,k as Ae,l as x,m as nt,S as ot,C as v,P as at,W as it,A as Ie,R as st,E as rt,M as ct,T as se,a as re,b as ce,G as lt,c as dt,e as h,d as ut}from"./tween.esm-fxhj7eK2.js";const Re={type:"change"},le={type:"start"},De={type:"end"},te=new $e,Se=new et,mt=Math.cos(70*nt.DEG2RAD);class ft extends tt{constructor(P,T){super(),this.object=P,this.domElement=T,this.domElement.style.touchAction="none",this.enabled=!0,this.target=new E,this.cursor=new E,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minTargetRadius=0,this.maxTargetRadius=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.zoomToCursor=!1,this.autoRotate=!1,this.autoRotateSpeed=2,this.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"},this.mouseButtons={LEFT:G.ROTATE,MIDDLE:G.DOLLY,RIGHT:G.PAN},this.touches={ONE:V.ROTATE,TWO:V.DOLLY_PAN},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this._domElementKeyEvents=null,this.getPolarAngle=function(){return l.phi},this.getAzimuthalAngle=function(){return l.theta},this.getDistance=function(){return this.object.position.distanceTo(this.target)},this.listenToKeyEvents=function(t){t.addEventListener("keydown",ie),this._domElementKeyEvents=t},this.stopListenToKeyEvents=function(){this._domElementKeyEvents.removeEventListener("keydown",ie),this._domElementKeyEvents=null},this.saveState=function(){e.target0.copy(e.target),e.position0.copy(e.object.position),e.zoom0=e.object.zoom},this.reset=function(){e.target.copy(e.target0),e.object.position.copy(e.position0),e.object.zoom=e.zoom0,e.object.updateProjectionMatrix(),e.dispatchEvent(Re),e.update(),c=r.NONE},this.update=function(){const t=new E,o=new ve().setFromUnitVectors(P.up,new E(0,1,0)),i=o.clone().invert(),d=new E,g=new ve,U=new E,M=2*Math.PI;return function(Je=null){const Oe=e.object.position;t.copy(Oe).sub(e.target),t.applyQuaternion(o),l.setFromVector3(t),e.autoRotate&&c===r.NONE&&R(q(Je)),e.enableDamping?(l.theta+=L.theta*e.dampingFactor,l.phi+=L.phi*e.dampingFactor):(l.theta+=L.theta,l.phi+=L.phi);let D=e.minAzimuthAngle,S=e.maxAzimuthAngle;isFinite(D)&&isFinite(S)&&(D<-Math.PI?D+=M:D>Math.PI&&(D-=M),S<-Math.PI?S+=M:S>Math.PI&&(S-=M),D<=S?l.theta=Math.max(D,Math.min(S,l.theta)):l.theta=l.theta>(D+S)/2?Math.max(D,l.theta):Math.min(S,l.theta)),l.phi=Math.max(e.minPolarAngle,Math.min(e.maxPolarAngle,l.phi)),l.makeSafe(),e.enableDamping===!0?e.target.addScaledVector(C,e.dampingFactor):e.target.add(C),e.target.sub(e.cursor),e.target.clampLength(e.minTargetRadius,e.maxTargetRadius),e.target.add(e.cursor);let J=!1;if(e.zoomToCursor&&Y||e.object.isOrthographicCamera)l.radius=oe(l.radius);else{const N=l.radius;l.radius=oe(l.radius*y),J=N!=l.radius}if(t.setFromSpherical(l),t.applyQuaternion(i),Oe.copy(e.target).add(t),e.object.lookAt(e.target),e.enableDamping===!0?(L.theta*=1-e.dampingFactor,L.phi*=1-e.dampingFactor,C.multiplyScalar(1-e.dampingFactor)):(L.set(0,0,0),C.set(0,0,0)),e.zoomToCursor&&Y){let N=null;if(e.object.isPerspectiveCamera){const $=t.length();N=oe($*y);const ee=$-N;e.object.position.addScaledVector(s,ee),e.object.updateMatrixWorld(),J=!!ee}else if(e.object.isOrthographicCamera){const $=new E(w.x,w.y,0);$.unproject(e.object);const ee=e.object.zoom;e.object.zoom=Math.max(e.minZoom,Math.min(e.maxZoom,e.object.zoom/y)),e.object.updateProjectionMatrix(),J=ee!==e.object.zoom;const ke=new E(w.x,w.y,0);ke.unproject(e.object),e.object.position.sub(ke).add($),e.object.updateMatrixWorld(),N=t.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),e.zoomToCursor=!1;N!==null&&(this.screenSpacePanning?e.target.set(0,0,-1).transformDirection(e.object.matrix).multiplyScalar(N).add(e.object.position):(te.origin.copy(e.object.position),te.direction.set(0,0,-1).transformDirection(e.object.matrix),Math.abs(e.object.up.dot(te.direction))<mt?P.lookAt(e.target):(Se.setFromNormalAndCoplanarPoint(e.object.up,e.target),te.intersectPlane(Se,e.target))))}else if(e.object.isOrthographicCamera){const N=e.object.zoom;e.object.zoom=Math.max(e.minZoom,Math.min(e.maxZoom,e.object.zoom/y)),N!==e.object.zoom&&(e.object.updateProjectionMatrix(),J=!0)}return y=1,Y=!1,J||d.distanceToSquared(e.object.position)>F||8*(1-g.dot(e.object.quaternion))>F||U.distanceToSquared(e.target)>F?(e.dispatchEvent(Re),d.copy(e.object.position),g.copy(e.object.quaternion),U.copy(e.target),!0):!1}}(),this.dispose=function(){e.domElement.removeEventListener("contextmenu",je),e.domElement.removeEventListener("pointerdown",Ee),e.domElement.removeEventListener("pointercancel",Q),e.domElement.removeEventListener("wheel",Te),e.domElement.removeEventListener("pointermove",ae),e.domElement.removeEventListener("pointerup",Q),e.domElement.getRootNode().removeEventListener("keydown",Me,{capture:!0}),e._domElementKeyEvents!==null&&(e._domElementKeyEvents.removeEventListener("keydown",ie),e._domElementKeyEvents=null)};const e=this,r={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let c=r.NONE;const F=1e-6,l=new Ae,L=new Ae;let y=1;const C=new E,A=new x,a=new x,z=new x,u=new x,I=new x,j=new x,O=new x,m=new x,p=new x,s=new E,w=new x;let Y=!1;const f=[],k={};let B=!1;function q(t){return t!==null?2*Math.PI/60*e.autoRotateSpeed*t:2*Math.PI/60/60*e.autoRotateSpeed}function H(t){const o=Math.abs(t*.01);return Math.pow(.95,e.zoomSpeed*o)}function R(t){L.theta-=t}function _(t){L.phi-=t}const X=function(){const t=new E;return function(i,d){t.setFromMatrixColumn(d,0),t.multiplyScalar(-i),C.add(t)}}(),K=function(){const t=new E;return function(i,d){e.screenSpacePanning===!0?t.setFromMatrixColumn(d,1):(t.setFromMatrixColumn(d,0),t.crossVectors(e.object.up,t)),t.multiplyScalar(i),C.add(t)}}(),n=function(){const t=new E;return function(i,d){const g=e.domElement;if(e.object.isPerspectiveCamera){const U=e.object.position;t.copy(U).sub(e.target);let M=t.length();M*=Math.tan(e.object.fov/2*Math.PI/180),X(2*i*M/g.clientHeight,e.object.matrix),K(2*d*M/g.clientHeight,e.object.matrix)}else e.object.isOrthographicCamera?(X(i*(e.object.right-e.object.left)/e.object.zoom/g.clientWidth,e.object.matrix),K(d*(e.object.top-e.object.bottom)/e.object.zoom/g.clientHeight,e.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),e.enablePan=!1)}}();function b(t){e.object.isPerspectiveCamera||e.object.isOrthographicCamera?y/=t:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),e.enableZoom=!1)}function ue(t){e.object.isPerspectiveCamera||e.object.isOrthographicCamera?y*=t:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),e.enableZoom=!1)}function ne(t,o){if(!e.zoomToCursor)return;Y=!0;const i=e.domElement.getBoundingClientRect(),d=t-i.left,g=o-i.top,U=i.width,M=i.height;w.x=d/U*2-1,w.y=-(g/M)*2+1,s.set(w.x,w.y,1).unproject(e.object).sub(e.object.position).normalize()}function oe(t){return Math.max(e.minDistance,Math.min(e.maxDistance,t))}function me(t){A.set(t.clientX,t.clientY)}function Ne(t){ne(t.clientX,t.clientX),O.set(t.clientX,t.clientY)}function fe(t){u.set(t.clientX,t.clientY)}function Ce(t){a.set(t.clientX,t.clientY),z.subVectors(a,A).multiplyScalar(e.rotateSpeed);const o=e.domElement;R(2*Math.PI*z.x/o.clientHeight),_(2*Math.PI*z.y/o.clientHeight),A.copy(a),e.update()}function ze(t){m.set(t.clientX,t.clientY),p.subVectors(m,O),p.y>0?b(H(p.y)):p.y<0&&ue(H(p.y)),O.copy(m),e.update()}function Ye(t){I.set(t.clientX,t.clientY),j.subVectors(I,u).multiplyScalar(e.panSpeed),n(j.x,j.y),u.copy(I),e.update()}function Be(t){ne(t.clientX,t.clientY),t.deltaY<0?ue(H(t.deltaY)):t.deltaY>0&&b(H(t.deltaY)),e.update()}function He(t){let o=!1;switch(t.code){case e.keys.UP:t.ctrlKey||t.metaKey||t.shiftKey?_(2*Math.PI*e.rotateSpeed/e.domElement.clientHeight):n(0,e.keyPanSpeed),o=!0;break;case e.keys.BOTTOM:t.ctrlKey||t.metaKey||t.shiftKey?_(-2*Math.PI*e.rotateSpeed/e.domElement.clientHeight):n(0,-e.keyPanSpeed),o=!0;break;case e.keys.LEFT:t.ctrlKey||t.metaKey||t.shiftKey?R(2*Math.PI*e.rotateSpeed/e.domElement.clientHeight):n(e.keyPanSpeed,0),o=!0;break;case e.keys.RIGHT:t.ctrlKey||t.metaKey||t.shiftKey?R(-2*Math.PI*e.rotateSpeed/e.domElement.clientHeight):n(-e.keyPanSpeed,0),o=!0;break}o&&(t.preventDefault(),e.update())}function pe(t){if(f.length===1)A.set(t.pageX,t.pageY);else{const o=W(t),i=.5*(t.pageX+o.x),d=.5*(t.pageY+o.y);A.set(i,d)}}function he(t){if(f.length===1)u.set(t.pageX,t.pageY);else{const o=W(t),i=.5*(t.pageX+o.x),d=.5*(t.pageY+o.y);u.set(i,d)}}function ge(t){const o=W(t),i=t.pageX-o.x,d=t.pageY-o.y,g=Math.sqrt(i*i+d*d);O.set(0,g)}function _e(t){e.enableZoom&&ge(t),e.enablePan&&he(t)}function Ke(t){e.enableZoom&&ge(t),e.enableRotate&&pe(t)}function ye(t){if(f.length==1)a.set(t.pageX,t.pageY);else{const i=W(t),d=.5*(t.pageX+i.x),g=.5*(t.pageY+i.y);a.set(d,g)}z.subVectors(a,A).multiplyScalar(e.rotateSpeed);const o=e.domElement;R(2*Math.PI*z.x/o.clientHeight),_(2*Math.PI*z.y/o.clientHeight),A.copy(a)}function we(t){if(f.length===1)I.set(t.pageX,t.pageY);else{const o=W(t),i=.5*(t.pageX+o.x),d=.5*(t.pageY+o.y);I.set(i,d)}j.subVectors(I,u).multiplyScalar(e.panSpeed),n(j.x,j.y),u.copy(I)}function be(t){const o=W(t),i=t.pageX-o.x,d=t.pageY-o.y,g=Math.sqrt(i*i+d*d);m.set(0,g),p.set(0,Math.pow(m.y/O.y,e.zoomSpeed)),b(p.y),O.copy(m);const U=(t.pageX+o.x)*.5,M=(t.pageY+o.y)*.5;ne(U,M)}function Ue(t){e.enableZoom&&be(t),e.enablePan&&we(t)}function Ze(t){e.enableZoom&&be(t),e.enableRotate&&ye(t)}function Ee(t){e.enabled!==!1&&(f.length===0&&(e.domElement.setPointerCapture(t.pointerId),e.domElement.addEventListener("pointermove",ae),e.domElement.addEventListener("pointerup",Q)),!Qe(t)&&(Ve(t),t.pointerType==="touch"?Le(t):Fe(t)))}function ae(t){e.enabled!==!1&&(t.pointerType==="touch"?Ge(t):Xe(t))}function Q(t){switch(qe(t),f.length){case 0:e.domElement.releasePointerCapture(t.pointerId),e.domElement.removeEventListener("pointermove",ae),e.domElement.removeEventListener("pointerup",Q),e.dispatchEvent(De),c=r.NONE;break;case 1:const o=f[0],i=k[o];Le({pointerId:o,pageX:i.x,pageY:i.y});break}}function Fe(t){let o;switch(t.button){case 0:o=e.mouseButtons.LEFT;break;case 1:o=e.mouseButtons.MIDDLE;break;case 2:o=e.mouseButtons.RIGHT;break;default:o=-1}switch(o){case G.DOLLY:if(e.enableZoom===!1)return;Ne(t),c=r.DOLLY;break;case G.ROTATE:if(t.ctrlKey||t.metaKey||t.shiftKey){if(e.enablePan===!1)return;fe(t),c=r.PAN}else{if(e.enableRotate===!1)return;me(t),c=r.ROTATE}break;case G.PAN:if(t.ctrlKey||t.metaKey||t.shiftKey){if(e.enableRotate===!1)return;me(t),c=r.ROTATE}else{if(e.enablePan===!1)return;fe(t),c=r.PAN}break;default:c=r.NONE}c!==r.NONE&&e.dispatchEvent(le)}function Xe(t){switch(c){case r.ROTATE:if(e.enableRotate===!1)return;Ce(t);break;case r.DOLLY:if(e.enableZoom===!1)return;ze(t);break;case r.PAN:if(e.enablePan===!1)return;Ye(t);break}}function Te(t){e.enabled===!1||e.enableZoom===!1||c!==r.NONE||(t.preventDefault(),e.dispatchEvent(le),Be(We(t)),e.dispatchEvent(De))}function We(t){const o=t.deltaMode,i={clientX:t.clientX,clientY:t.clientY,deltaY:t.deltaY};switch(o){case 1:i.deltaY*=16;break;case 2:i.deltaY*=100;break}return t.ctrlKey&&!B&&(i.deltaY*=10),i}function Me(t){t.key==="Control"&&(B=!0,e.domElement.getRootNode().addEventListener("keyup",Pe,{passive:!0,capture:!0}))}function Pe(t){t.key==="Control"&&(B=!1,e.domElement.getRootNode().removeEventListener("keyup",Pe,{passive:!0,capture:!0}))}function ie(t){e.enabled===!1||e.enablePan===!1||He(t)}function Le(t){switch(xe(t),f.length){case 1:switch(e.touches.ONE){case V.ROTATE:if(e.enableRotate===!1)return;pe(t),c=r.TOUCH_ROTATE;break;case V.PAN:if(e.enablePan===!1)return;he(t),c=r.TOUCH_PAN;break;default:c=r.NONE}break;case 2:switch(e.touches.TWO){case V.DOLLY_PAN:if(e.enableZoom===!1&&e.enablePan===!1)return;_e(t),c=r.TOUCH_DOLLY_PAN;break;case V.DOLLY_ROTATE:if(e.enableZoom===!1&&e.enableRotate===!1)return;Ke(t),c=r.TOUCH_DOLLY_ROTATE;break;default:c=r.NONE}break;default:c=r.NONE}c!==r.NONE&&e.dispatchEvent(le)}function Ge(t){switch(xe(t),c){case r.TOUCH_ROTATE:if(e.enableRotate===!1)return;ye(t),e.update();break;case r.TOUCH_PAN:if(e.enablePan===!1)return;we(t),e.update();break;case r.TOUCH_DOLLY_PAN:if(e.enableZoom===!1&&e.enablePan===!1)return;Ue(t),e.update();break;case r.TOUCH_DOLLY_ROTATE:if(e.enableZoom===!1&&e.enableRotate===!1)return;Ze(t),e.update();break;default:c=r.NONE}}function je(t){e.enabled!==!1&&t.preventDefault()}function Ve(t){f.push(t.pointerId)}function qe(t){delete k[t.pointerId];for(let o=0;o<f.length;o++)if(f[o]==t.pointerId){f.splice(o,1);return}}function Qe(t){for(let o=0;o<f.length;o++)if(f[o]==t.pointerId)return!0;return!1}function xe(t){let o=k[t.pointerId];o===void 0&&(o=new x,k[t.pointerId]=o),o.set(t.pageX,t.pageY)}function W(t){const o=t.pointerId===f[0]?f[1]:f[0];return k[o]}e.domElement.addEventListener("contextmenu",je),e.domElement.addEventListener("pointerdown",Ee),e.domElement.addEventListener("pointercancel",Q),e.domElement.addEventListener("wheel",Te,{passive:!1}),e.domElement.getRootNode().addEventListener("keydown",Me,{passive:!0,capture:!0}),this.update()}}const de={x:-.42,y:.16,z:.68};function pt(){const Z=new ot;Z.background=new v(16777215);const P=new at(50,window.innerWidth*.7/window.innerHeight,.1,1e3);P.position.z=20;const T=new it({powerPreference:"high-performance",antialias:!0});T.setSize(window.innerWidth*.7,window.innerHeight),document.getElementById("canvas").appendChild(T.domElement),T.toneMapping=Ie,T.toneMappingExposure=.5,T.setPixelRatio(window.devicePixelRatio),new st().load("envmap.hdr",function(p){p.mapping=rt,Z.environment=p,T.toneMapping=Ie,T.toneMappingExposure=1});const r=new ct({color:16777215,transmission:1,transparent:!0,roughness:.1,metalness:0,envMapIntensity:1}),c=new se().load("alluminio.jpg");c.wrapS=c.wrapT=re,c.repeat.set(8,8),c.rotation=-Math.PI/8;const F=new ce({color:16777215,roughness:.2,metalness:.6,map:c,roughnessMap:c,envMapIntensity:1}),l=new se().load("pvc.jpg");l.wrapS=l.wrapT=re,l.repeat.set(10,10);const L=new ce({color:15790320,roughness:.8,metalness:.2,map:l,roughnessMap:l,envMapIntensity:.5}),y=new se().load("wood.jpg");y.wrapS=y.wrapT=re,y.repeat.set(1,1),y.rotation=-Math.PI/2;const C=new ce({color:10066329,roughness:1,metalness:0,map:y,roughnessMap:y,envMapIntensity:.5}),A=new lt;var a={obj:null,center:null,left:null,right:null,handle:null};A.load("finestra.glb",function(p){a.obj=p.scene,Z.add(a.obj),a.obj.position.y-=6.8,a.obj.position.x-=.45,a.obj.scale.set(.006,.006,.006),a.obj.traverse(function(s){s.isMesh&&!s.name.includes("glass")?s.material=F:s.material=r,s.isMesh&&s.name.includes("inner")&&(s.material=new dt({color:2236962})),s.name=="finestra"&&(a.center=s),s.name=="left"&&(a.left=s),s.name=="right"&&(a.right=s),s.name=="maniglia"&&(a.handle=s)}),a.center.rotation.set(de.x,de.y,de.z)}),window.onload=function(){const p=document.getElementById("controlOpen");var s=0;p.addEventListener("click",function(){if(s==0){const n=new h(a.left.rotation).to({y:a.left.rotation.y+1},500).start();u.add(n);const b=new h(a.right.rotation).to({y:a.right.rotation.y-1},500).start();u.add(b),s=1}else if(s==1){const n=new h(a.left.rotation).to({y:a.left.rotation.y+1},500).start();u.add(n);const b=new h(a.right.rotation).to({y:a.right.rotation.y-1},500).start();u.add(b),s=2}else{const n=new h(a.left.rotation).to({y:a.left.rotation.y-2},500).start();u.add(n);const b=new h(a.right.rotation).to({y:a.right.rotation.y+2},500).start();u.add(b),s=0}});const w=document.getElementById("controlOpenHandle");var Y=0;w.addEventListener("click",function(){if(Y==0){const n=new h(a.handle.rotation).to({z:a.handle.rotation.z+Math.PI/2},500).start();u.add(n),Y=1;const b=new h(P.position).to({x:0,y:0,z:2},500).start();u.add(b)}else{const n=new h(a.handle.rotation).to({z:a.handle.rotation.z-Math.PI/2},500).start();u.add(n),Y=0;const b=new h(P.position).to({x:0,y:0,z:20},500).start();u.add(b)}});const f=document.getElementById("controlALU"),k=document.getElementById("controlPVC"),B=document.getElementById("controlWood");f.addEventListener("click",function(){a.obj.traverse(function(n){n.isMesh&&!n.name.includes("glass")&&!n.name.includes("inner")&&(n.material=F,n.material.color=new v(12040107))}),f.classList.add("active"),k.classList.remove("active"),B.classList.remove("active")}),k.addEventListener("click",function(){a.obj.traverse(function(n){n.isMesh&&!n.name.includes("glass")&&!n.name.includes("inner")&&(n.material=L,n.material.color=new v(15790320))}),f.classList.remove("active"),k.classList.add("active"),B.classList.remove("active")}),B.addEventListener("click",function(){a.obj.traverse(function(n){n.isMesh&&!n.name.includes("glass")&&!n.name.includes("inner")&&(n.material=C,n.material.color=new v(10066329))}),f.classList.remove("active"),k.classList.remove("active"),B.classList.add("active")});const q=document.getElementById("controlWhite"),H=document.getElementById("controlBrown"),R=document.getElementById("controlGrey"),_=document.getElementById("controlBlack"),X=document.getElementById("controlBlue"),K=[q,H,R,_,X];q.addEventListener("click",function(){a.obj.traverse(function(n){n.isMesh&&!n.name.includes("glass")&&!n.name.includes("inner")&&(n.material.color=new v(16777215))}),K.forEach(function(n){n.classList.remove("active")}),q.classList.add("active")}),H.addEventListener("click",function(){a.obj.traverse(function(n){n.isMesh&&!n.name.includes("glass")&&!n.name.includes("inner")&&(n.material.color=new v(9127187))}),K.forEach(function(n){n.classList.remove("active")}),H.classList.add("active")}),R.addEventListener("click",function(){a.obj.traverse(function(n){n.isMesh&&!n.name.includes("glass")&&!n.name.includes("inner")&&(n.material.color=new v(8421504))}),K.forEach(function(n){n.classList.remove("active")}),R.classList.add("active")}),_.addEventListener("click",function(){a.obj.traverse(function(n){n.isMesh&&!n.name.includes("glass")&&!n.name.includes("inner")&&(n.material.color=new v(0))}),K.forEach(function(n){n.classList.remove("active")}),_.classList.add("active")}),X.addEventListener("click",function(){a.obj.traverse(function(n){n.isMesh&&!n.name.includes("glass")&&!n.name.includes("inner")&&(n.material.color=new v(1118549))}),K.forEach(function(n){n.classList.remove("active")}),X.classList.add("active")})};const z=new ft(P,T.domElement),u=new ut;var I=1e3/60,j=0;function O(){Date.now()>=j&&(z.update(),u.update(),window.scrollY<window.innerHeight*4&&(requestAnimationFrame(O),T.render(Z,P)),j+=I,Date.now()>=j&&(j=Date.now())),requestAnimationFrame(O)}O();const m={};window.addEventListener("keydown",function(p){if(m[p.key]=!0,a.left&&a.right){if(m.a){const s=new h(a.left.rotation).to({y:a.left.rotation.y+1},500).start();u.add(s);const w=new h(a.right.rotation).to({y:a.right.rotation.y-1},500).start();u.add(w)}if(m.d){const s=new h(a.left.rotation).to({y:a.left.rotation.y-1},500).start();u.add(s);const w=new h(a.right.rotation).to({y:a.right.rotation.y+1},500).start();u.add(w)}}if(a.handle){if(m.w){const s=new h(a.handle.rotation).to({z:a.handle.rotation.z+Math.PI/2},500).start();u.add(s)}if(m.s){const s=new h(a.handle.rotation).to({z:a.handle.rotation.z-Math.PI/2},500).start();u.add(s)}}m.b&&(a.center.rotation.x+=.01),m.h&&(a.center.rotation.x-=.01),m.n&&(a.center.rotation.y+=.01),m.j&&(a.center.rotation.y-=.01),m.m&&(a.center.rotation.z+=.01),m.k&&(a.center.rotation.z-=.01),m.l&&console.log(a.center.rotation),m.o&&document.documentElement.classList.toggle("hidden"),m.g&&(Z.background=new v(65280))}),window.addEventListener("keyup",function(p){m[p.key]=!1}),window.addEventListener("resize",function(){P.aspect=window.innerWidth*.7/window.innerHeight,P.updateProjectionMatrix(),T.setSize(window.innerWidth*.7,window.innerHeight)})}pt();
